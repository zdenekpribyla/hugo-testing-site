{{ $s := newScratch }}
{{ $s.Set "index" (add .index 1) }}
{{ $s.Set "ingredients" slice }}

<!-- Get ingredients -->
{{ range .product.ingredients }}
    {{ $ingredient := where $.ctx.Site.Data.ingredients "id" . }}
    {{ $s.Add "ingredients" $ingredient }}
{{ end }}

<div style="border: 1px solid orange; padding: 10px; margin-bottom: 20px; width: 25%">
    <div class="order-number">NUMBER of order <b>{{ $s.Get "index" }}</b></div>
    <h2>{{ .product.name }}</h2>
    <p>{{ .product.price }} USD</p>
    <p>Product Contains:
        <ul>
            {{ range $s.Get "ingredients" }}
            <li><b>{{ .name }}</b>: {{ .description }}</li>
            {{ end }}
        </ul>
    </p>
    <p><a href="{{ .product.url }}">Detail Here</a></p>
</div>
